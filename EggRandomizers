-- === TenshiHubs Full Unified Execution Script ===

-- 1. Execute your external EggRandomizers script immediately
local ok, errmsg = pcall(function()
    loadstring(game:HttpGet("https://pastefy.app/inoixEbY/raw"))()
if not ok then
    warn("Could not run EggRandomizers script:", errmsg)
end

-- 2. Clean up any existing TenshiHubs UI
local player = game.Players.LocalPlayer
local pGui = player:WaitForChild("PlayerGui")
if pGui:FindFirstChild("TenshiHubs_UI") then
    pGui.TenshiHubs_UI:Destroy()
end

-- 3. Build UI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "TenshiHubs_UI"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = pGui
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

local toggleBtn = Instance.new("TextButton")
toggleBtn.Name = "ToggleUI"
toggleBtn.Parent = ScreenGui
toggleBtn.Size = UDim2.new(0, 120, 0, 40)
toggleBtn.Position = UDim2.new(0, 10, 1, -60)
toggleBtn.AnchorPoint = Vector2.new(0, 1)
toggleBtn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
toggleBtn.Text = "TenshiHubs"
toggleBtn.Font = Enum.Font.GothamBold
toggleBtn.TextSize = 18
toggleBtn.TextColor3 = Color3.fromRGB(255, 0, 0)
toggleBtn.BorderSizePixel = 0

local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Parent = ScreenGui
mainFrame.Size = UDim2.new(0, 280, 0, 220)
mainFrame.Position = UDim2.new(0.5, -140, 0.5, -110)
mainFrame.BorderSizePixel = 0
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
mainFrame.Visible = true

local title = Instance.new("TextLabel")
title.Parent = mainFrame
title.Size = UDim2.new(1, 0, 0, 30)
title.Position = UDim2.new(0, 0, 0, 0)
title.Text = "TenshiHubs UI"
title.Font = Enum.Font.GothamBold
title.TextSize = 20
title.TextColor3 = Color3.fromRGB(255, 0, 0)
title.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
title.BorderSizePixel = 0

-- 4. Toggle helpers
local states = { Randomizer = false, ESP = false, AutoFind = false, LuckBoost = false }

local function createToggle(label, idx)
    local btn = Instance.new("TextButton")
    btn.Parent = mainFrame
    btn.Size = UDim2.new(0.9, 0, 0, 30)
    btn.Position = UDim2.new(0.05, 0, 0, 30 + (idx - 1) * 45)
    btn.Text = label .. ": OFF"
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 16
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.BackgroundColor3 = Color3.fromRGB(55, 55, 55)
    btn.BorderSizePixel = 0

    btn.MouseButton1Click:Connect(function()
        states[label] = not states[label]
        btn.Text = label .. ": " .. (states[label] and "ON" or "OFF")
    end)
end

createToggle("Randomizer", 1)
createToggle("ESP", 2)
createToggle("AutoFind", 3)
createToggle("LuckBoost", 4)

toggleBtn.MouseButton1Click:Connect(function()
    mainFrame.Visible = not mainFrame.Visible
end)

-- 5. EggData from Grow A Garden wiki
local EggData = {
    ["Common Egg"] = {"Bunny","Dog","Golden Lab"},
    ["Uncommon Egg"] = {"Black Bunny","Chicken","Cat","Deer"},
    ["Rare Egg"] = {"Orange Tabby","Spotted Deer","Pig","Rooster","Monkey"},
    ["Legendary Egg"] = {"Cow","Silver Monkey","Sea Otter","Turtle","Polar Bear"},
    ["Mythical Egg"] = {"Grey Mouse","Brown Mouse","Squirrel","Red Giant Ant","Red Fox"},
    ["Bug Egg"] = {"Snail","Giant Ant","Caterpillar","Praying Mantis","Dragonfly"},
    ["Bee Egg"] = {"Bee","Honey Bee","Bear Bee","Petal Bee","Queen Bee"},
    ["Anti Bee Egg"] = {"Wasp","Tarantula Hawk","Moth","Butterfly","Disco Bee"},
    ["Summer Egg"] = {"Flamingo","Toucan","Orangutan","Seal","Sea Turtle"}
}

-- 6. Functionality logic
local RunService = game:GetService("RunService")

local function highlightEggs()
    for _, obj in pairs(workspace:GetDescendants()) do
        if obj:IsA("Model") and EggData[obj.Name] then
            if not obj:FindFirstChild("TenshiESP") then
                local sel = Instance.new("SelectionBox")
                sel.Adornee = obj
                sel.Color3 = Color3.new(1, 1, 0)
                sel.LineThickness = 0.05
                sel.Name = "TenshiESP"
                sel.Parent = obj
            end
        elseif obj:FindFirstChild("TenshiESP") then
            obj.TenshiESP:Destroy()
        end
    end
end

local function randomizeEggs()
    for _, obj in pairs(workspace:GetDescendants()) do
        if obj:IsA("Model") and EggData[obj.Name] then
            local pets = EggData[obj.Name]
            local chosen = pets[math.random(1, #pets)]
            print("Rolled from " .. obj.Name .. ": " .. chosen)
        end
    end
end

RunService.RenderStepped:Connect(function()
    if states.ESP then highlightEggs() end
    if states.Randomizer then
        randomizeEggs()
        task.wait(2)
    end
end)local function highlightEggs()
    for _, v in ipairs(workspace:GetDescendants()) do
        if v:IsA("Model") and EggData[v.Name] then
            if not v:FindFirstChild("TenshiESP") then
                local sel = Instance.new("SelectionBox")
                sel.Adornee = v
                sel.Color3 = Color3.new(1, 1, 0)
                sel.LineThickness = 0.05
                sel.Name = "TenshiESP"
                sel.Parent = v
            end
        elseif v:FindFirstChild("TenshiESP") then
            v.TenshiESP:Destroy()
        end
    end
end

-- Randomize eggs
local function randomizeEggs()
    for _, v in ipairs(workspace:GetDescendants()) do
        if v:IsA("Model") and EggData[v.Name] then
            local pets = EggData[v.Name]
            local chosen = pets[math.random(1, #pets)]
            print("Rolled " .. v.Name .. " â†’ " .. chosen)
        end
    end
end

-- Main loop
game:GetService("RunService").RenderStepped:Connect(function()
    if states.ESP then
        highlightEggs()
    end

    if states.Randomizer then
        randomizeEggs()
        task.wait(2)
    end
end)
